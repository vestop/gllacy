!function(){var e=document.querySelector(".map__feedback-btn"),o=document.querySelector("#feedback-popup"),s=document.querySelector(".page-overlay"),a=document.querySelector(".user-search-link"),t=document.querySelector(".user-enter-link"),n=document.querySelector(".user-basket-link--products"),c=document.querySelector("#map");if(o)var l=o.querySelector(".popup__close"),i=o.querySelector(".feedback"),r=i.querySelector("#feedback-name"),d=i.querySelector("#feedback-email"),p=i.querySelector("#feedback-message"),u=localStorage.getItem("clientName"),v=localStorage.getItem("clientEmail");n&&(n.addEventListener("click",function(e){e.preventDefault(),n.classList.toggle("user-basket-link--opened")}),window.addEventListener("keydown",function(e){27===e.keyCode&&n.classList.contains("user-basket-link--opened")&&n.classList.remove("user-basket-link--opened")})),a&&(a.addEventListener("click",function(e){e.preventDefault(),a.classList.toggle("user-search-link--opened")}),window.addEventListener("keydown",function(e){27===e.keyCode&&a.classList.contains("user-search-link--opened")&&a.classList.remove("user-search-link--opened")})),t&&(t.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("user-enter-link--opened")}),window.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("user-enter-link--opened")&&t.classList.remove("user-enter-link--opened")})),e&&o&&(e.addEventListener("click",function(e){e.preventDefault(),s&&s.classList.contains("page-overlay--hide")&&(s.classList.remove("page-overlay--hide"),s.classList.add("page-overlay--show")),o.classList.remove("popup--closed"),o.classList.add("popup--opened"),r.focus(),u&&!v?(r.value=u,d.focus()):u&&v?(r.value=u,d.value=v,p.focus()):r.focus()}),i.addEventListener("submit",function(e){r.value&&d.value&&p.value&&(localStorage.setItem("clientName",r.value),localStorage.setItem("clientEmail",d.value))}),l.addEventListener("click",function(e){e.preventDefault(),o.classList.remove("popup--opened"),o.classList.add("popup--closed"),o.classList.remove("popup--error"),s&&s.classList.contains("page-overlay--show")&&(s.classList.remove("page-overlay--show"),s.classList.add("page-overlay--hide"))}),s&&s.addEventListener("click",function(e){e.preventDefault(),o.classList.contains("popup--opened")&&(o.classList.remove("popup--opened"),o.classList.add("popup--closed"),o.classList.remove("popup--error")),s.classList.contains("page-overlay--show")&&(s.classList.remove("page-overlay--show"),s.classList.add("page-overlay--hide"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(o.classList.contains("popup--opened")&&(o.classList.remove("popup--opened"),o.classList.add("popup--closed"),o.classList.remove("popup--error")),s.classList.contains("page-overlay--show")&&(s.classList.remove("page-overlay--show"),s.classList.add("page-overlay--hide")))})),c&&ymaps.ready(function(){var e=new ymaps.Map("map",{center:[59.93939,30.329545],zoom:16,scrollZoom:!1,controls:[]},{searchControlProvider:"yandex#search"}),o=new ymaps.Placemark([59.938706,30.323149],{balloonContent:"Санкт-Петербург, Большая Конюшенная улица, 19/8"},{iconLayout:"default#image",iconImageHref:"img/icons/pin.svg",iconImageSize:[80,140],iconImageOffset:[-40,-140],iconShadow:!0,iconShadowLayout:"default#image",iconShadowImageHref:"img/icons/pin-shadow.png",iconShadowImageSize:[182,110],iconShadowImageOffset:[0,-110]});e.geoObjects.add(o),e.behaviors.disable("scrollZoom"),e.controls.add("zoomControl");e.controls.get("zoomControl").state.get("size");e.controls.get("zoomControl").options.set("size","small")})}();
